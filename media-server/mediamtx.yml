# MediaMTX Configuration for Neustream
# Optimized for multi-destination streaming without FFmpeg

api: yes
apiAddress: :9997

# RTMP Configuration (Input)
rtmp: yes
rtmpAddress: :1935

# HLS Configuration (for playback)
hls: yes
hlsAddress: :8888
hlsVariant: lowLatency

# WebRTC Configuration (for low latency playback)
webrtc: yes
webrtcAddress: :8889

# Global Settings
logLevel: info
logDestinations: [stdout]

# Paths Configuration - Dynamic routing
paths:
  # Default path - all streams use this
  # MediaMTX will handle internal routing efficiently
  all:
    runOnReady: /opt/neustream/on_stream_ready.sh
    runOnNotReady: /opt/neustream/on_stream_unpublish.sh

  # No need for separate catch-all - 'all' handles everything
